<div class="container mx-auto py-8" *ngIf="product; else noProduct">
    <div class="tabs flex flex-wrap border-b mb-3 gap-2 sm:gap-4 md:gap-6 lg:gap-8">
        <div *ngFor="let tab of tabs; let i = index" (click)="selectTab(i)"
            class="tab p-2 cursor-pointer text-center flex-1" [class.active]="selectedTab === i"
            [class.border-blue-500]="selectedTab === i">
            {{ tab.title }}
        </div>
    </div>
    
    <div *ngIf="selectedTab === 0" class="flex flex-col md:flex-row">
        <div class="md:w-1/2 p-4">
            <div class="bg-emerald-green bg-opacity-50">
                <img [src]="product.images[0].uri" [alt]="product.name" class="w-full h-auto mb-4">
            </div>
            <div class="flex space-x-2">
                <img *ngFor="let image of product.images" [src]="image.uri" [alt]="product.name"
                    class="w-16 h-auto hover:border border-black">
            </div>
        </div>
        <div class="ml-5 md:w-2/3 lg:w-1/2 p-4">
            <h1 class="text-4xl font-bold mb-4">{{ product.name }}</h1>
            <div class="flex items-center mb-4">
                <span class="text-yellow-500">&#9733;&#9733;&#9733;&#9733;&#9734;</span>
                <span class="ml-2 text-xl font-semibold">{{ product.price }}€</span>
            </div>
            <p class="text-gray-500 mb-4">ref: {{ product.uuid }}</p>
            <div class="flex shadow p-2 rounded-xl md:w-4/5 items-center mb-4">
                <button class="border p-2" (click)="decreaseQuantity()">-</button>
                <input type="text" [value]="quantity" class="w-12 text-center border-t border-b p-2" readonly>
                <button class="border p-2" (click)="increaseQuantity()">+</button>
                <button class="bg-red-500 text-white p-2 rounded ml-4 flex hover:border border-black items-center">
                    <span>Ajouter au panier</span>
                    <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M3 3h2l.4 2M7 13h10l1.6-8H6.4L5.2 4H3m4 9h10a2 2 0 002-2H5a2 2 0 002 2zm-1 5a1 1 0 110-2 1 1 0 010 2zm11 0a1 1 0 110-2 1 1 0 010 2z">
                        </path>
                    </svg>
                </button>
            </div>
            <div class="flex items-center lg:w-1/3 md:w-1/2 w-1/2 justify-between shadow rounded-xl p-2 mb-4 space-x-2">
                <span *ngFor="let color of product.colors" [style.background-color]="color.name"
                    class="w-6 h-6 hover:border border-current"></span>
            </div>
            <p class="text-green-600 mb-4" *ngIf="product.stock > 0">En stock</p>
            <p class="text-red-600 mb-4" *ngIf="product.stock === 0">Rupture de stock</p>
            <p class="text-gray-500 mb-4">Expédition sous {{ product.estimatedDelivery | date:'dd MMMM yyyy' }}</p>
            <div class="border-t border-b py-4 mb-4">
                <h3 class="text-xl font-semibold mb-2">Les plus</h3>
                <ul class="list-disc border rounded-xl p-2 list-inside">
                    <li>Design raffiné et élégant</li>
                    <li>Revêtement en velours blanc pour un confort optimal</li>
                    <li>Pietement en métal pour une meilleure stabilité et durabilité</li>
                    <li>Fabrication française</li>
                </ul>
            </div>
            <p class="text-gray-500 border rounded-xl p-2"><span class="font-semibold"> Garantie 7 ans Échange/retour
                    des marchandises dans un délai de 14 jours</span></p>
        </div>
    </div>
</div>

<ng-template #noProduct>
    <p class="text-center text-red-500">Produit non trouvé</p>
</ng-template>